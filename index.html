<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>ads</title>
	<link href="https://fonts.googleapis.com/css?family=Montserrat" rel="stylesheet">
	<style>
		*{
			margin: 0;
			padding: 0;
			font-family: 'Montserrat', sans-serif;
		}
		.ads{
			width: 970px;
			height: 250px;
			background: #fff;
			border: 1px grey dashed;
			display: flex;
		}

		.ads__left{
			width: 300px;
			height: 250px;
		}

		 .ads__left img{
			width: 100%;
			height: 100%;
			object-fit: cover;
		}
		
		.ads__frame{
			width: 100%;
			height: 100%;
			overflow: hidden;
		}
		.ads__wrapper{
			position: relative;
			left: 0;
			width: auto;
			display: grid;
			grid-template-columns: repeat(8, 1fr);
			height: 100%;
			grid-gap: 15px;
			transition: all ease 1000ms;
			align-items: center;
    		margin-left: 15px;
		}
		.ads__item{
			position: relative;
			width: 149px;
			height: 90%;
			cursor: pointer;
		}
		.ads__item img{
			width: 100%;
			height: 100%;
			object-fit: cover;
		}
		.ads__details{
			position: absolute;
			bottom: 0;
			width: 100%;
			height: 40%;
			background: rgba(255, 255, 255, 0.6);
			text-align: center;
			padding-top: 6px;
		}
		.ads__details p{
			margin-bottom: 6px;
		}
		.ads__details button{
			width: 100px;
		   border: none;
		   cursor: pointer;
		   background: #000;
		   color: #fff;
		   border-radius: 30px;
		   padding: 4px;
		   font-weight: bold;
		}
		.price{
			font-size: 14px;
			font-weight: bold;
		} 

		.ads__right{
			width: 670px;
			position: relative;
			height: 100%;
			overflow: hidden;
		}

		.swipe__left, .swipe__right{
			width: 30px;
			height: 100%;
			position: absolute;
			top:0;
			left: 0;
			background: rgba(0,0,0,0.4)
		}
		.swipe__right{
			left: auto;
			right: 0;
		}
	</style>
</head>

<body>
	<div class="ads">
		<div class="ads__left">
			<img src="https://laurenconrad.com/wp-content/uploads/2018/02/DIY-Embroidery-20.jpg" alt="">
		</div>
		<div class="ads__right">
				<div class="ads__wrapper">
						<div class="ads__item">
							<img src="https://photo.venus.com/im/Y77513-WH_J71021-DW_Y72944-WH.061.jpg?preset=product" alt="">
							<div class="ads__details">
								<p class="title"></p>
								<p class="price"></p>
								<a href="#">
									<button>BUY</button>
								</a>
							</div>
						</div>
						<div class="ads__item">
							<img src="https://cdn.shopify.com/s/files/1/0269/2921/products/madisonweb-20180809102210.jpg?v=1534632192" alt="">
							<div class="ads__details">
								<p class="title"></p>
								<p class="price"></p>
								<a href="#">
									<button>BUY</button>
								</a>
							</div>
						</div>
						<div class="ads__item">
							<img src="http://assets.myntassets.com/assets/images/7776877/2018/11/29/0a143847-e839-4203-981b-bfc1ca4169161543470389063-ONLY-Women-Sweaters-9471543470388195-1.jpg" alt="">
							<div class="ads__details">
								<p class="title"></p>
								<p class="price"></p>
								<a href="#">
									<button>BUY</button>
								</a>
							</div>
						</div>
						<div class="ads__item">
							<img src="https://www.mumshandmade.com/images/products/product-381-image-767-oym9W.jpg" alt="">
							<div class="ads__details">
								<p class="title"></p>
								<p class="price"></p>
								<a href="#">
									<button>BUY</button>
								</a>
							</div>
						</div>
						<div class="ads__item">
							<img src="https://www.lulus.com/images/product/xlarge/3098710_393822.jpg" alt="">
							<div class="ads__details">
								<p class="title"></p>
								<p class="price"></p>
								<a href="#">
									<button>BUY</button>
								</a>
							</div>
						</div>
						<div class="ads__item">
							<img src="https://www.chicos.com/Product_Images/570251538_4626.jpg?resize=300px:*" alt="">
							<div class="ads__details">
								<p class="title"></p>
								<p class="price"></p>
								<a href="#">
									<button>BUY</button>
								</a>
							</div>
						</div>
						<div class="ads__item">
							<img src="https://aritzia.scene7.com/is/image/Aritzia/medium/f18_04_a03_69075_15730_on_a.jpg" alt="">
							<div class="ads__details">
								<p class="title"></p>
								<p class="price"></p>
								<a href="#">
									<button>BUY</button>
								</a>
							</div>
						</div>
						<div class="ads__item">
							<img src="https://aritzia.scene7.com/is/image/Aritzia/medium/f18_04_a03_68883_14165_on_a.jpg" alt="">
							<div class="ads__details">
								<p class="title"></p>
								<p class="price"></p>
								<a href="#">
									<button>BUY</button>
								</a>
							</div>
						</div>
						
			</div>
			<div class="swipe__left"></div>
			<div class="swipe__right"></div>
		</div>
		
	</div>


	<script>
		//ADS SWIPE
		let adsWrapper = document.querySelector('.ads__wrapper')
		let adsItemStart = 0;
		adsWrapper.onmousedown = (e)=>{
			e = e || window.event;
			e.preventDefault()
			let startPosition = e.clientX;
			let mouseMovement = 0;
			let mouseDistance = 0;
			document.onmousemove = (e)=>{
				e = e || window.event;
				e.preventDefault()
				mouseMovement = e.clientX;
				mouseDistance = startPosition - mouseMovement;

				//swipe left
				if(mouseDistance > 10){
					document.onmousemove = null;
					if(adsItemStart == -165*4){
						adsItemStart = -165*4;
					}else{
						adsItemStart = adsItemStart + (-165);
					}
					adsWrapper.style.left = `${adsItemStart}px`;
					
				}

				//swipe right
				if(mouseDistance < -10){
					document.onmousemove = null;
					if(adsItemStart == 0){
						adsItemStart = 0;
					}else{
						adsItemStart = adsItemStart + 165;
					}
					adsWrapper.style.left = `${adsItemStart}px`;
				}


				document.onmouseup = ()=>{
					document.onmouseup = null;
					document.onmousemove = null;
				}
			}
			document.onmouseup = ()=>{
				document.onmouseup = null;
				document.onmousemove = null;
			}
		}

//Mouse Over Swipe
	let swipeLeft = document.querySelector('.swipe__left');
	let swipeRight = document.querySelector('.swipe__right');

	function moveLeft(){
		if(adsItemStart == -165*4){
			adsItemStart = -165*4;
		}else{
			adsItemStart = adsItemStart + (-165);
		}
		adsWrapper.style.left = `${adsItemStart}px`;
	}
	function moveRight(){
		if(adsItemStart == 0){
			adsItemStart = 0;
		}else{
			adsItemStart = adsItemStart + 165;
		}
		adsWrapper.style.left = `${adsItemStart}px`;
	}

	swipeLeft.addEventListener('mouseover', moveLeft);
	swipeRight.addEventListener('mouseover', moveRight)

	//JSON CALL
	let callJson = async function(){
		let fetchData = await fetch('https://armanrozika.github.io/adzymicjson/adsdetails.json');
		let fetchResp = await fetchData.json();

		let adsTitle = document.querySelectorAll('.title');
		let adsPrice = document.querySelectorAll('.price');

		for(let i=0; i<adsTitle.length; i++){
			adsTitle[i].innerText = fetchResp.adsdetails[i].title;
			adsPrice[i].innerText = 'USD ' + fetchResp.adsdetails[i].price;
		}
		
	}

	callJson()

	</script>
</body>
</html>